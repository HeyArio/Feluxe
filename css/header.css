/* ===========================================
   FELUXE CAT LITTER - HEADER (Fully Responsive)
   Mobile-first, fluid, accessible
   =========================================== */

/* Root tokens (keeps your original theme vars) */
:root {
  --header-pad-y: 0.75rem;
  --container-max: 1400px;
  --gap: 1rem;
  --tap: 44px; /* min tap size */
}

/* Header */
header {
  position: sticky; /* better for mobile than fixed when possible */
  top: 0;
  width: 100%;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  z-index: 1000;
  padding: max(var(--header-pad-y), env(safe-area-inset-top)) 0;
  box-shadow: 0 1px 30px var(--shadow-light);
  transition: var(--transition-fast);
}

/* Navigation – mobile-first */
nav {
  max-width: var(--container-max);
  margin: 0 auto;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  padding: 0 clamp(0.75rem, 3vw, 2rem);
  min-height: 60px;
  gap: var(--gap);
}

/* Logo */
.logo {
  grid-column: 1;
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  z-index: 1001;
  justify-self: start;
}
.logo img {
  width: clamp(28px, 6vw, 60px);
  height: clamp(28px, 6vw, 60px);
  transition: transform var(--transition-fast);
}
.logo img:hover { transform: scale(1.05); }
.logo h1 {
  color: var(--primary-blue) !important;
  font-size: clamp(1rem, 2.5vw, 2rem);
  font-weight: 700;
  letter-spacing: -0.02em;
  line-height: 1.1;
}

/* Cat animation (center) */
.cat-center {
  grid-column: 2;
  justify-self: center;
  width: clamp(45px, 7vw, 90px);
  height: clamp(45px, 7vw, 90px);
  cursor: pointer;
  z-index: 1001;
}
#catWrapper, #catAnimation,
#catWrapper lottie-player {
  width: 100% !important;
  height: 100% !important;
}

/* Desktop links (hidden by default on small screens) */
.nav-links {
  grid-column: 3;
  display: none;
  list-style: none;
  gap: clamp(1rem, 2.5vw, 3rem);
  margin: 0;
  z-index: 1001;
  justify-self: end;
}
.nav-links a {
  text-decoration: none;
  color: var(--primary-blue);
  font-weight: 500;
  font-size: clamp(0.9rem, 0.9rem + 0.2vw, 1rem);
  transition: var(--transition-fast);
  position: relative;
  padding-block: 0.25rem;
}
.nav-links a:hover { color: var(--primary-purple); }
.nav-links a::after {
  content: "";
  position: absolute;
  inset-inline-start: 0;
  bottom: -5px;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--primary-purple), var(--primary-blue));
  transition: width var(--transition-fast);
}
.nav-links a:hover::after { width: 100%; }

/* Mobile menu toggle (hamburger) */
.mobile-menu-toggle {
  grid-column: 3;
  justify-self: end;
  display: inline-flex;
  flex-direction: column;
  cursor: pointer;
  z-index: 1002;
  padding: 0.5rem;
  min-width: var(--tap);
  min-height: var(--tap);
  align-items: center;
  justify-content: center;
  border-radius: 0.5rem;
  border: 1px solid transparent;
}
.mobile-menu-toggle:focus-visible {
  outline: none;
  border-color: var(--primary-purple);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary-purple), white 80%);
}
.mobile-menu-toggle span {
  width: 25px;
  height: 3px;
  background: var(--primary-purple);
  margin: 3px 0;
  transition: var(--transition-fast);
  border-radius: 2px;
}
.mobile-menu-toggle[aria-expanded="true"] span:nth-child(1) {
  transform: rotate(-45deg) translate(-5px, 6px);
}
.mobile-menu-toggle[aria-expanded="true"] span:nth-child(2) { opacity: 0; }
.mobile-menu-toggle[aria-expanded="true"] span:nth-child(3) {
  transform: rotate(45deg) translate(-5px, -6px);
}

/* Mobile menu (overlay) */
.mobile-menu {
  position: fixed;
  inset: 0 0 0 auto;
  right: -100%;
  width: 100%;
  height: 100dvh;
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(20px);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition: right var(--transition-medium);
  z-index: 1001;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}
.mobile-menu.open { right: 0; }
/* Pure-CSS open (no JS) when supported */
@supports selector(:has(*)) {
  header:has(.mobile-menu-toggle[aria-expanded="true"]) .mobile-menu { right: 0; }
}

.mobile-menu-links {
  list-style: none;
  text-align: center;
  margin: 0;
  padding: 0;
}
.mobile-menu-links li { margin: 1.25rem 0; }
.mobile-menu-links a {
  text-decoration: none;
  color: var(--primary-blue);
  font-size: clamp(1.2rem, 4.5vw, 1.8rem);
  font-weight: 600;
  transition: var(--transition-fast);
  padding: 0.25rem 0.5rem;
  border-radius: 0.5rem;
}
.mobile-menu-links a:hover { color: var(--primary-purple); }
.mobile-menu-links a:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary-blue), white 80%);
}

/* Scroll state */
header.scrolled {
  background: rgba(255, 255, 255, 0.98);
  box-shadow: 0 2px 40px rgba(160, 67, 140, 0.2);
}

/* ---------- Breakpoints (mobile-first) ---------- */
/* ≥768px: show desktop links, hide hamburger */
/* ≥1200px: show desktop links, hide hamburger */
@media (min-width: 1200px) {
  .nav-links { display: inline-flex; }
  .mobile-menu-toggle { display: none; }
}


/* ≥1024px: comfy gaps/sizes */
@media (min-width: 1024px) {
  nav { padding: 0 clamp(1.25rem, 2vw, 2rem); }
  .nav-links { gap: clamp(1.5rem, 2vw, 2.5rem); }
  .cat-center { width: clamp(65px, 7vw, 80px); height: clamp(65px, 7vw, 80px); }
}

/* ≥1280px */
@media (min-width: 1280px) {
  :root { --container-max: 1500px; }
  .nav-links { gap: clamp(2rem, 2.5vw, 3rem); }
}

/* ≥1440px */
@media (min-width: 1440px) {
  :root { --container-max: 1600px; }
}

/* High DPI */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .logo img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  * { transition-duration: 0.01ms !important; }
  .logo img, .nav-links a::after { transition: none; }
}
